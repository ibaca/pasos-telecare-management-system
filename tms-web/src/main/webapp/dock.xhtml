<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ppctu="http://primefaces.org/ui" 
      xmlns:f="http://java.sun.com/jsf/core">
  <h:head>
    <title>Telecare Alarm Center</title>
    <link href="#{request.contextPath}/resources/img/favicon.ico" rel="shortcut icon" />    
  <h:outputStylesheet name="css/mainstyle.css"/>
  </h:head>
  <h:body>
      <div id="head">
            <div class="contenedor960">
                <span> Telecare Alarm Center </span>
            </div> <!-- fin contenedor960 -->
        </div> <!-- fin menu -->
        
    <ppctu:growl id="growl" showDetail="true" life="3000" />         
    <div id="tableList" class="contenedor960">     
        <h:form id="form">
            <ppctu:dataList value="#{tableBean.alerts}" var="alert"  
                paginator="true" rows="5" effectSpeed="fast"  
                paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}"  
                rowsPerPageTemplate="5,10,15">  

                <f:facet name="header">  
                    Active Alerts  
                </f:facet>  

                <ppctu:column>  
                    <ppctu:commandLink update=":form:alertDetail" oncomplete="alertDialog.show()" title="View Detail">  
                        <ppctu:graphicImage value="./resources/img/search.png"/>   
                        <f:setPropertyActionListener value="#{alert}" target="#{tableBean.selectedAlert}" />  
                    </ppctu:commandLink> 

                    <h:outputText value="#{alert.created}, #{alert.id}" style="margin-left:10px" />  

                </ppctu:column>  
            </ppctu:dataList>  



            <ppctu:dialog header="alert Detail" widgetVar="alertDialog" modal="true" showEffect="fade">  
                <ppctu:outputPanel id="alertDetail" style="text-align:center;" layout="block">  
                    <ppctu:graphicImage value="/images/alerts/#{tableBean.selectedAlert.affected}.jpg"/>  
                    <h:panelGrid  columns="2" cellpadding="5">  
                        <h:outputLabel for="name" value="Nombre: " />  
                        <h:outputText id="name" value="#{tableBean.selectedAlert.affected.firstName}, #{tableBean.selectedAlert.affected.lastName}" />  

                        <h:outputLabel for="email" value="E-mail: " />  
                        <h:outputText id="email" value="#{tableBean.selectedAlert.affected.email}" />  

                        <h:outputLabel for="number" value="Mobile Number: " />  
                        <h:outputText id="number" value="#{tableBean.selectedAlert.affected.mobileNumber}"/>  
                    </h:panelGrid>  
                </ppctu:outputPanel>  
            </ppctu:dialog> 

        </h:form>  
    </div> <!-- fin contenedor960 -->  
        
        
        
        
        
        
<ppctu:dock>  
    <ppctu:menuitem value="Home" icon="./resources/img/dock/home.png" url="./dock.xhtml"/>  
    <ppctu:menuitem value="Email" icon="./resources/img/dock/email.png" url="#"/>  
    <ppctu:menuitem value="Chat" icon="./resources/img/dock/portfolio.png" url="./chat.xhtml"/>  
    <ppctu:menuitem value="RSS" icon="./resources/img/dock/rss.png" url="#"/>  
    <ppctu:menuitem value="History" icon="./resources/img/dock/history.png" url="#"/>  
</ppctu:dock> 
</h:body>


</html>

